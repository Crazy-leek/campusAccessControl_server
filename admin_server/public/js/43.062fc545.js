"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[43],{9043:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var l=function(){var e=this,r=e._self._c;return r("div",{staticClass:"register"},[r("el-card",{staticClass:"card-box"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticStyle:{"font-size":"16pt"}},[e._v("管理员注册")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.goLoginPage}},[e._v("返回登录")]),r("span",{staticStyle:{float:"right",padding:"0 2px"}},[e._v("已有账号?")])],1),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px","label-position":"left"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("ruleForm")}}},[r("el-form-item",{attrs:{label:"昵称",prop:"name"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入昵称"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name","string"===typeof r?r.trim():r)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入6位数字账号"},model:{value:e.ruleForm.account,callback:function(r){e.$set(e.ruleForm,"account","string"===typeof r?r.trim():r)},expression:"ruleForm.account"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入邮箱",type:"email"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email","string"===typeof r?r.trim():r)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{clearable:"","show-password":"",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password","string"===typeof r?r.trim():r)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{clearable:"","show-password":"",autocomplete:"off",placeholder:"请再次输入密码"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass","string"===typeof r?r.trim():r)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{label:"注册码",prop:"registrationCode"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入注册码",autocomplete:"off"},model:{value:e.ruleForm.registrationCode,callback:function(r){e.$set(e.ruleForm,"registrationCode","string"===typeof r?r.trim():r)},expression:"ruleForm.registrationCode"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")]),r("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},o=[],s=(t(7658),t(7877)),a={name:"Register",data(){let e=(e,r,t)=>r?6!=r.length?t(new Error("请输入6位数的账号")):void setTimeout((()=>{/^\d*$/.test(r)?t():t(new Error("请输入数字型账号"))}),1e3):t(new Error("账号不能为空")),r=(e,r,t)=>{""===r?t(new Error("请输入密码")):r.length<6?(console.log(r),t(new Error("请输入至少6位密码"))):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),t())},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!=this.ruleForm.password?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{name:"",password:"",checkPass:"",account:"",email:"",registrationCode:""},rules:{password:[{validator:r,trigger:"blur",required:!0}],checkPass:[{validator:t,trigger:"blur",required:!0}],account:[{validator:e,trigger:"blur",required:!0}],registrationCode:[{trigger:"blur",required:!0,message:"注册码不能为空"}],email:[{type:"email",trigger:"blur",required:!0,message:"请输入正确的邮箱"}],name:[{trigger:"blur",required:!0,message:"昵称不能为空"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{e?this.register(this.ruleForm):console.log("error submit!!")}))},resetForm(e){this.$refs[e].resetFields()},async register(e){const r=await s.Z.register(e).catch((()=>{}));console.log(r),200==r.code&&(this.$message.success("注册成功,3s后返回登录页"),this.$store.state.token=r.token,setTimeout(this.$router.push("/"),3e3))},goLoginPage(){this.$router.push("/")}}},i=a,n=t(1001),u=(0,n.Z)(i,l,o,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=43.062fc545.js.map